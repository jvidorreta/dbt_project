version: 2

models:
  - name: trs_DIM_CUSTOMER_MASTER
    description: '{{ doc("DIM_CUSTOMER_MASTER")}}'
    config:
      transient: false
      materialized: table
      schema: '{{ var("SH_TRS") }}'
      alias: DIM_CUSTOMER
      unique_key: DIM_CUSTOMER
      query_tag: dbt_trs_DIM_CUSTOMER
    meta:
      primary key:
        - C_CUSTKEY
        - C_NAME
    columns:
      - name: C_CUSTKEY
        description: Customer account balance
        tests: 
          - not_null
      - name: C_NAME
        description: Customer adress
        tests: 
          - not_null
      - name: PK_DIM_CUSTOMER
        tests: 
          - not_null
          - unique
      - name: C_MKTSEGMENT
        description: Customer Market segment
      - name: C_COMMENT
        description: Customer Comment
      - name: C_ACCTBAL
      - name: C_ADDRESS 
      - name: C_NATIONKEY
      - name: C_PHONE 

  - name: trs_DIM_LINEITEM
    description: '{{ doc("DIM_LINEITEM_TRS")}}'
    config:
      transient: false
      materialized: table
      schema: '{{ var("SH_TRS") }}'
      alias: DIM_LINEITEM_TRS
      unique_key: DIM_LINEITEM_TRS
      query_tag: dbt_trs_DIM_LINEITEM_TRS
    meta:
      primary key:
        - L_ORDERKEY
        - L_PARTKEY
    columns:
      - name: L_ORDERKEY
        description: Line order key
        tests: 
          - not_null
      - name: L_PARTKEY
        description: Line Part key
        tests: 
          - not_null
      - name: PK_DIM_LINEITEM_TRS
        tests: 
          - not_null
          - unique
      - name: L_SUPPKEY
        description: Customer Market segment
      - name: L_LINENUMBER
        description: Customer Comment
      - name: L_QUANTITY
      - name: L_EXTENDEDPRICE 
      - name: L_DISCOUNT
      - name: L_TAX 
      - name: FINAL_PRICE 
      - name: TOTAL_TAX
      - name: PROFIT    
