version: 2

models:
  - name: trs_DIM_CUSTOMER
    description: '{{ doc("DIM_CUSTOMER_TRS")}}'
    config:
      transient: false
      materialized: table
      schema: '{{ var("SH_TRS") }}'
      alias: DIM_CUSTOMER_TRS
      unique_key: DIM_CUSTOMER_TRS
      query_tag: dbt_trs_DIM_CUSTOMER_TRS
    meta:
      primary key:
        - CUSTOMER_KEY
        - CUSTOMER_NAME
        - CUSTOMER_ADDRESS
    columns:
      - name: CUSTOMER_KEY
        description: Customer Key
        tests: 
          - not_null
      - name: CUSTOMER_NAME
        description: Customer Name
        tests: 
          - not_null
      - name: CUSTOMER_ADDRESS
        description: Customer Adress
        tests: 
          - not_null    
      - name: PK_DIM_CUSTOMER_TRS
        tests: 
          - not_null
          - unique
      - name: CUSTOMER_PHONE
        description: Customer Phone
      - name: NATION
        description: Customer Nation
      - name: REGION
      - name: MARKET_SEGMENT 

  - name: trs_DIM_LINEITEM
    description: '{{ doc("DIM_LINEITEM_TRS")}}'
    config:
      transient: false
      materialized: table
      schema: '{{ var("SH_TRS") }}'
      alias: DIM_LINEITEM_TRS
      unique_key: DIM_LINEITEM_TRS
      query_tag: dbt_trs_DIM_LINEITEM_TRS
    meta:
      primary key:
        - L_ORDERKEY
        - L_PARTKEY
        - L_SUPPKEY
        - L_LINENUMBER
    columns:
      - name: L_ORDERKEY
        description: Line order key
        tests: 
          - not_null
      - name: L_PARTKEY
        description: Line Part key
        tests: 
          - not_null
      - name: PROFIT
        description: Line Supplier Key
        tests: 
          - not_null    
      - name: PK_DIM_LINEITEM_TRS
        tests: 
          - not_null
          - unique
      - name: L_LINENUMBER
        description: Customer Comment
      - name: L_QUANTITY
      - name: L_EXTENDEDPRICE 
      - name: L_DISCOUNT
      - name: L_TAX 
      - name: FINAL_PRICE 
      - name: TOTAL_TAX
    
